module.exports = class Data1690886879614 {
    name = 'Data1690886879614'

    async up(db) {
        await db.query(`CREATE TABLE "token" ("id" character varying NOT NULL, "name" text, CONSTRAINT "PK_82fae97f905930df5d62a702fc9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE TABLE "account_token" ("id" character varying NOT NULL, "account_id" text, "token_id" text, "balance" numeric, "accountId" character varying, "tokenId" character varying, CONSTRAINT "PK_a55842d3341d42534e39f85e931" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_e2060ca9d28fcdecf9be6c6ae2" ON "account_token" ("accountId") `)
        await db.query(`CREATE INDEX "IDX_831d172e0592c8f4f0c678287c" ON "account_token" ("tokenId") `)
        await db.query(`CREATE INDEX "IDX_32991c7899f345462da0292ae7" ON "account_token" ("balance") `)
        await db.query(`CREATE TABLE "nft" ("id" character varying NOT NULL, "total_supply" integer NOT NULL DEFAULT '0', CONSTRAINT "PK_8f46897c58e23b0e7bf6c8e56b0" PRIMARY KEY ("id"))`)
        await db.query(`CREATE TABLE "account_nft" ("id" SERIAL NOT NULL, "account_id" text, "nft_id" text, "accountId" character varying, "nftId" character varying, CONSTRAINT "PK_c340e89e548f9c4b04270ebb2df" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_1e597cf65f30a49aa7890de059" ON "account_nft" ("accountId") `)
        await db.query(`CREATE INDEX "IDX_74b7464b0ecc26825ac901c763" ON "account_nft" ("nftId") `)
        await db.query(`CREATE TABLE "account" ("id" character varying NOT NULL, "avt_balance" numeric NOT NULL, CONSTRAINT "PK_54115ee388cdb6d86bb4bf5b2ea" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_e30019d293529390e105432e51" ON "account" ("avt_balance") `)
        await db.query(`CREATE TABLE "nft_transfer" ("id" SERIAL NOT NULL, "block_number" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "extrinsic_hash" text, "pallet" text NOT NULL, "method" text NOT NULL, "from_id" character varying, "to_id" character varying, "nft_id" character varying, CONSTRAINT "PK_2d9d4b37560ecbcae8bd13026ab" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_14a7b9aab04cc732ed3c451e46" ON "nft_transfer" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_a16633d0bf670694384eb2cca4" ON "nft_transfer" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_3f47532cfd7b9e620a22236dd4" ON "nft_transfer" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_e25e662117911bbbf337f8dcb6" ON "nft_transfer" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_c84f5916ed381a97f68c9a8fc4" ON "nft_transfer" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_36fe23e7d5ad132cc41db573a5" ON "nft_transfer" ("nft_id") `)
        await db.query(`CREATE INDEX "IDX_97345b768990d86ffd4af99af2" ON "nft_transfer" ("pallet") `)
        await db.query(`CREATE INDEX "IDX_586635da4b0b9d1cde4b890bc2" ON "nft_transfer" ("method") `)
        await db.query(`CREATE TABLE "token_transfer" ("id" SERIAL NOT NULL, "block_number" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "extrinsic_hash" text, "amount" numeric NOT NULL, "pallet" text NOT NULL, "method" text NOT NULL, "from_id" character varying, "to_id" character varying, "token_id" character varying, CONSTRAINT "PK_77384b7f5874553f012eba9da41" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_b47f7192b72dd8436ef4e6d253" ON "token_transfer" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_752d6c330729a7b2e283003374" ON "token_transfer" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_2ef35b71d641ec79b7de3ac237" ON "token_transfer" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_f62ce2d807e8c6ce2651d2ebf9" ON "token_transfer" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_f272327358edf76901e129ac31" ON "token_transfer" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_aae50046f62ba400c07477fb6c" ON "token_transfer" ("amount") `)
        await db.query(`CREATE INDEX "IDX_4dbddd00fdedf513899e70cc68" ON "token_transfer" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_fd34f0875f03cb0bc826b76984" ON "token_transfer" ("pallet") `)
        await db.query(`CREATE INDEX "IDX_71c1124eb609e2074ac69894a1" ON "token_transfer" ("method") `)
        await db.query(`CREATE TABLE "token_lookup" ("id" SERIAL NOT NULL, "token_id" text NOT NULL, "token_name" text NOT NULL, CONSTRAINT "PK_85cc52b0c9861e62d7d78df8d35" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_ed36cbc8debd00719e4a7ab3bb" ON "token_lookup" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_bf8b69df15c998c17ac6c2ee3e" ON "token_lookup" ("token_name") `)
        await db.query(`ALTER TABLE "account_token" ADD CONSTRAINT "FK_e2060ca9d28fcdecf9be6c6ae2e" FOREIGN KEY ("accountId") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "account_token" ADD CONSTRAINT "FK_831d172e0592c8f4f0c678287c4" FOREIGN KEY ("tokenId") REFERENCES "token"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "account_nft" ADD CONSTRAINT "FK_1e597cf65f30a49aa7890de0599" FOREIGN KEY ("accountId") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "account_nft" ADD CONSTRAINT "FK_74b7464b0ecc26825ac901c7630" FOREIGN KEY ("nftId") REFERENCES "nft"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nft_transfer" ADD CONSTRAINT "FK_e25e662117911bbbf337f8dcb62" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nft_transfer" ADD CONSTRAINT "FK_c84f5916ed381a97f68c9a8fc4e" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nft_transfer" ADD CONSTRAINT "FK_36fe23e7d5ad132cc41db573a51" FOREIGN KEY ("nft_id") REFERENCES "nft"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_f62ce2d807e8c6ce2651d2ebf97" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_f272327358edf76901e129ac317" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_4dbddd00fdedf513899e70cc681" FOREIGN KEY ("token_id") REFERENCES "token"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "token"`)
        await db.query(`DROP TABLE "account_token"`)
        await db.query(`DROP INDEX "public"."IDX_e2060ca9d28fcdecf9be6c6ae2"`)
        await db.query(`DROP INDEX "public"."IDX_831d172e0592c8f4f0c678287c"`)
        await db.query(`DROP INDEX "public"."IDX_32991c7899f345462da0292ae7"`)
        await db.query(`DROP TABLE "nft"`)
        await db.query(`DROP TABLE "account_nft"`)
        await db.query(`DROP INDEX "public"."IDX_1e597cf65f30a49aa7890de059"`)
        await db.query(`DROP INDEX "public"."IDX_74b7464b0ecc26825ac901c763"`)
        await db.query(`DROP TABLE "account"`)
        await db.query(`DROP INDEX "public"."IDX_e30019d293529390e105432e51"`)
        await db.query(`DROP TABLE "nft_transfer"`)
        await db.query(`DROP INDEX "public"."IDX_14a7b9aab04cc732ed3c451e46"`)
        await db.query(`DROP INDEX "public"."IDX_a16633d0bf670694384eb2cca4"`)
        await db.query(`DROP INDEX "public"."IDX_3f47532cfd7b9e620a22236dd4"`)
        await db.query(`DROP INDEX "public"."IDX_e25e662117911bbbf337f8dcb6"`)
        await db.query(`DROP INDEX "public"."IDX_c84f5916ed381a97f68c9a8fc4"`)
        await db.query(`DROP INDEX "public"."IDX_36fe23e7d5ad132cc41db573a5"`)
        await db.query(`DROP INDEX "public"."IDX_97345b768990d86ffd4af99af2"`)
        await db.query(`DROP INDEX "public"."IDX_586635da4b0b9d1cde4b890bc2"`)
        await db.query(`DROP TABLE "token_transfer"`)
        await db.query(`DROP INDEX "public"."IDX_b47f7192b72dd8436ef4e6d253"`)
        await db.query(`DROP INDEX "public"."IDX_752d6c330729a7b2e283003374"`)
        await db.query(`DROP INDEX "public"."IDX_2ef35b71d641ec79b7de3ac237"`)
        await db.query(`DROP INDEX "public"."IDX_f62ce2d807e8c6ce2651d2ebf9"`)
        await db.query(`DROP INDEX "public"."IDX_f272327358edf76901e129ac31"`)
        await db.query(`DROP INDEX "public"."IDX_aae50046f62ba400c07477fb6c"`)
        await db.query(`DROP INDEX "public"."IDX_4dbddd00fdedf513899e70cc68"`)
        await db.query(`DROP INDEX "public"."IDX_fd34f0875f03cb0bc826b76984"`)
        await db.query(`DROP INDEX "public"."IDX_71c1124eb609e2074ac69894a1"`)
        await db.query(`DROP TABLE "token_lookup"`)
        await db.query(`DROP INDEX "public"."IDX_ed36cbc8debd00719e4a7ab3bb"`)
        await db.query(`DROP INDEX "public"."IDX_bf8b69df15c998c17ac6c2ee3e"`)
        await db.query(`ALTER TABLE "account_token" DROP CONSTRAINT "FK_e2060ca9d28fcdecf9be6c6ae2e"`)
        await db.query(`ALTER TABLE "account_token" DROP CONSTRAINT "FK_831d172e0592c8f4f0c678287c4"`)
        await db.query(`ALTER TABLE "account_nft" DROP CONSTRAINT "FK_1e597cf65f30a49aa7890de0599"`)
        await db.query(`ALTER TABLE "account_nft" DROP CONSTRAINT "FK_74b7464b0ecc26825ac901c7630"`)
        await db.query(`ALTER TABLE "nft_transfer" DROP CONSTRAINT "FK_e25e662117911bbbf337f8dcb62"`)
        await db.query(`ALTER TABLE "nft_transfer" DROP CONSTRAINT "FK_c84f5916ed381a97f68c9a8fc4e"`)
        await db.query(`ALTER TABLE "nft_transfer" DROP CONSTRAINT "FK_36fe23e7d5ad132cc41db573a51"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_f62ce2d807e8c6ce2651d2ebf97"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_f272327358edf76901e129ac317"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_4dbddd00fdedf513899e70cc681"`)
    }
}
